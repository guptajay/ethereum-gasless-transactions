import { PrefixedHexString } from 'ethereumjs-util';
import { Address } from '@opengsn/common/dist/types/Aliases';
import { ServerAction, StoredTransaction } from './StoredTransaction';
import { LoggerInterface } from '@opengsn/common/dist/LoggerInterface';
export declare const TXSTORE_FILENAME = "txstore.db";
export declare class TxStoreManager {
    private readonly txstore;
    private readonly logger;
    constructor({ workdir, inMemory, autoCompactionInterval }: {
        workdir?: string | undefined;
        inMemory?: boolean | undefined;
        autoCompactionInterval?: number | undefined;
    }, logger: LoggerInterface);
    putTx(tx: StoredTransaction, updateExisting?: boolean): Promise<void>;
    /**
     * Only for testing
     */
    getTxByNonce(signer: PrefixedHexString, nonce: number): Promise<StoredTransaction>;
    /**
     * Only for testing
     */
    getTxById(txId: string): Promise<StoredTransaction>;
    getTxsUntilNonce(signer: PrefixedHexString, nonce: number): Promise<StoredTransaction[]>;
    removeTxsUntilNonce(signer: PrefixedHexString, nonce: number): Promise<unknown>;
    clearAll(): Promise<void>;
    getAllBySigner(signer: PrefixedHexString): Promise<StoredTransaction[]>;
    getAll(): Promise<StoredTransaction[]>;
    isActionPending(serverAction: ServerAction, destination?: Address | undefined): Promise<boolean>;
}
