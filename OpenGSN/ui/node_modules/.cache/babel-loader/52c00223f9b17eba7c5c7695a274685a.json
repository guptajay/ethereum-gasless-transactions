{"ast":null,"code":"'use strict';\n\nvar base58 = require('bs58');\n\nvar Buffer = require('safe-buffer').Buffer;\n\nmodule.exports = function (checksumFn) {\n  // Encode a buffer as a base58-check encoded string\n  function encode(payload) {\n    var checksum = checksumFn(payload);\n    return base58.encode(Buffer.concat([payload, checksum], payload.length + 4));\n  }\n\n  function decodeRaw(buffer) {\n    var payload = buffer.slice(0, -4);\n    var checksum = buffer.slice(-4);\n    var newChecksum = checksumFn(payload);\n    if (checksum[0] ^ newChecksum[0] | checksum[1] ^ newChecksum[1] | checksum[2] ^ newChecksum[2] | checksum[3] ^ newChecksum[3]) return;\n    return payload;\n  } // Decode a base58-check encoded string to a buffer, no result if checksum is wrong\n\n\n  function decodeUnsafe(string) {\n    var buffer = base58.decodeUnsafe(string);\n    if (!buffer) return;\n    return decodeRaw(buffer);\n  }\n\n  function decode(string) {\n    var buffer = base58.decode(string);\n    var payload = decodeRaw(buffer, checksumFn);\n    if (!payload) throw new Error('Invalid checksum');\n    return payload;\n  }\n\n  return {\n    encode: encode,\n    decode: decode,\n    decodeUnsafe: decodeUnsafe\n  };\n};","map":{"version":3,"sources":["C:/Users/nomif/Desktop/Programming/Blockchain/ethereum-gasless-transactions/OpenGSN/node_modules/bs58check/base.js"],"names":["base58","require","Buffer","module","exports","checksumFn","encode","payload","checksum","concat","length","decodeRaw","buffer","slice","newChecksum","decodeUnsafe","string","decode","Error"],"mappings":"AAAA;;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,aAAD,CAAP,CAAuBC,MAApC;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,UAAV,EAAsB;AACrC;AACA,WAASC,MAAT,CAAiBC,OAAjB,EAA0B;AACxB,QAAIC,QAAQ,GAAGH,UAAU,CAACE,OAAD,CAAzB;AAEA,WAAOP,MAAM,CAACM,MAAP,CAAcJ,MAAM,CAACO,MAAP,CAAc,CACjCF,OADiC,EAEjCC,QAFiC,CAAd,EAGlBD,OAAO,CAACG,MAAR,GAAiB,CAHC,CAAd,CAAP;AAID;;AAED,WAASC,SAAT,CAAoBC,MAApB,EAA4B;AAC1B,QAAIL,OAAO,GAAGK,MAAM,CAACC,KAAP,CAAa,CAAb,EAAgB,CAAC,CAAjB,CAAd;AACA,QAAIL,QAAQ,GAAGI,MAAM,CAACC,KAAP,CAAa,CAAC,CAAd,CAAf;AACA,QAAIC,WAAW,GAAGT,UAAU,CAACE,OAAD,CAA5B;AAEA,QAAIC,QAAQ,CAAC,CAAD,CAAR,GAAcM,WAAW,CAAC,CAAD,CAAzB,GACAN,QAAQ,CAAC,CAAD,CAAR,GAAcM,WAAW,CAAC,CAAD,CADzB,GAEAN,QAAQ,CAAC,CAAD,CAAR,GAAcM,WAAW,CAAC,CAAD,CAFzB,GAGAN,QAAQ,CAAC,CAAD,CAAR,GAAcM,WAAW,CAAC,CAAD,CAH7B,EAGkC;AAElC,WAAOP,OAAP;AACD,GAtBoC,CAwBrC;;;AACA,WAASQ,YAAT,CAAuBC,MAAvB,EAA+B;AAC7B,QAAIJ,MAAM,GAAGZ,MAAM,CAACe,YAAP,CAAoBC,MAApB,CAAb;AACA,QAAI,CAACJ,MAAL,EAAa;AAEb,WAAOD,SAAS,CAACC,MAAD,CAAhB;AACD;;AAED,WAASK,MAAT,CAAiBD,MAAjB,EAAyB;AACvB,QAAIJ,MAAM,GAAGZ,MAAM,CAACiB,MAAP,CAAcD,MAAd,CAAb;AACA,QAAIT,OAAO,GAAGI,SAAS,CAACC,MAAD,EAASP,UAAT,CAAvB;AACA,QAAI,CAACE,OAAL,EAAc,MAAM,IAAIW,KAAJ,CAAU,kBAAV,CAAN;AACd,WAAOX,OAAP;AACD;;AAED,SAAO;AACLD,IAAAA,MAAM,EAAEA,MADH;AAELW,IAAAA,MAAM,EAAEA,MAFH;AAGLF,IAAAA,YAAY,EAAEA;AAHT,GAAP;AAKD,CA5CD","sourcesContent":["'use strict'\r\n\r\nvar base58 = require('bs58')\r\nvar Buffer = require('safe-buffer').Buffer\r\n\r\nmodule.exports = function (checksumFn) {\r\n  // Encode a buffer as a base58-check encoded string\r\n  function encode (payload) {\r\n    var checksum = checksumFn(payload)\r\n\r\n    return base58.encode(Buffer.concat([\r\n      payload,\r\n      checksum\r\n    ], payload.length + 4))\r\n  }\r\n\r\n  function decodeRaw (buffer) {\r\n    var payload = buffer.slice(0, -4)\r\n    var checksum = buffer.slice(-4)\r\n    var newChecksum = checksumFn(payload)\r\n\r\n    if (checksum[0] ^ newChecksum[0] |\r\n        checksum[1] ^ newChecksum[1] |\r\n        checksum[2] ^ newChecksum[2] |\r\n        checksum[3] ^ newChecksum[3]) return\r\n\r\n    return payload\r\n  }\r\n\r\n  // Decode a base58-check encoded string to a buffer, no result if checksum is wrong\r\n  function decodeUnsafe (string) {\r\n    var buffer = base58.decodeUnsafe(string)\r\n    if (!buffer) return\r\n\r\n    return decodeRaw(buffer)\r\n  }\r\n\r\n  function decode (string) {\r\n    var buffer = base58.decode(string)\r\n    var payload = decodeRaw(buffer, checksumFn)\r\n    if (!payload) throw new Error('Invalid checksum')\r\n    return payload\r\n  }\r\n\r\n  return {\r\n    encode: encode,\r\n    decode: decode,\r\n    decodeUnsafe: decodeUnsafe\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"script"}