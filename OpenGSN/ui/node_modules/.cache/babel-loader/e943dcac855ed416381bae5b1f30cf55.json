{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nomif\\\\Desktop\\\\Programming\\\\Blockchain\\\\ethereum-gasless-transactions\\\\OpenGSN\\\\ui\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './ethereum.js';\nimport './index.css';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css'; // import './bundle.js'\n\nimport { Component } from 'react';\nimport { Card, CardGroup, Navbar, Nav, Container, Button, ListGroup, Badge, InputGroup, FormControl, DropdownButton, Dropdown, Spinner } from 'react-bootstrap';\nimport { FaUserTie, FaUserSecret, FaThumbsUp } from \"react-icons/fa\";\nimport { SiEthereum } from \"react-icons/si\";\nimport Web3 from 'web3';\nimport relayHubJson from '../../build/contracts/RelayHub.json';\nimport relayHubAddressJson from '../../build/gsn/RelayHub.json';\nimport noFeePaymasterAddressJson from '../../build/contracts/NoFeePaymaster.json';\nimport tokenJson from '../../build/contracts/Token.json';\nimport tokenBankJson from '../../build/contracts/TokenBank.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  async componentWillMount() {\n    await this.loadBlockchainData(this.props.dispatch);\n  }\n\n  async loadBlockchainData(dispatch) {//check if MetaMask exists\n    //assign to values to variables: web3, netId, accounts\n    //check if account is detected, then load balance&setStates, elsepush alert\n    //in try block load contracts\n    //if MetaMask not exists push alert\n  }\n\n  async deposit(amount) {//check if this.state.dbank is ok\n    //in try block call dBank deposit();\n  }\n\n  async withdraw(e) {//prevent button from default click\n    //check if this.state.dbank is ok\n    //in try block call dBank withdraw();\n  } // getUserETH() {\n  //     //var balance = await web3.eth.getBalance(walletAddress); //Will give value in.\n  //     //balance = await web3.toDecimal(balance);\n  // }\n  // getUserTokens() {\n  // }\n\n\n  freePayMaster() {\n    console.log('freePayMaster');\n    window.app.initNoFeePaymaster().then(function (_ref) {\n      let {\n        contractAddress,\n        network\n      } = _ref;\n      // console.log('CaptureTheFlag contract', contractAddress)\n      // console.log(`identified network: ${JSON.stringify(network)}`)\n      window.app.noFeeContractCall();\n    });\n  }\n\n  paidPayMaster() {\n    console.log('paidPayMaster');\n    window.app.initTokenFeePaymaster().then(function (_ref2) {\n      let {\n        contractAddress,\n        network\n      } = _ref2;\n      // console.log('CaptureTheFlag contract', contractAddress)\n      // console.log(`identified network: ${JSON.stringify(network)}`)\n      window.app.tokenFeeContractCall();\n    });\n  }\n\n  async buyUserTokens() {\n    console.log('user tokens');\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n    const netId = await window.ethereum.request({\n      method: 'net_version'\n    });\n    web3.eth.getAccounts().then(async accounts => {\n      const tokenBankAddress = await tokenBankJson.networks[netId].address;\n      const tokenBankContract = await new web3.eth.Contract(tokenBankJson.abi, tokenBankAddress);\n      var buyTokens = await tokenBankContract.methods.buyTokens().send({\n        from: accounts[0],\n        value: 20 * 10 ** 18\n      });\n      console.log(\"Bought tokens successfully\");\n    });\n  }\n\n  async changeAllowanceFreePaymaster() {\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n    const netId = await window.ethereum.request({\n      method: 'net_version'\n    });\n    console.log('Netid', netId);\n    const tokenAddress = await tokenJson.networks[netId].address;\n    const tokenContract = new web3.eth.Contract(tokenJson.abi, tokenAddress);\n    web3.eth.getAccounts().then(async accounts => {\n      window.app.getAllAddresses().then(async addr => {\n        const increasedAllowance = await tokenContract.methods.increaseAllowance(addr[0], 5).send({\n          from: accounts[0]\n        });\n        console.log(\"Free Paymaster Allowance Increased\");\n      });\n    });\n  }\n\n  async changeAllowancePaidPaymaster() {\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n    const netId = await window.ethereum.request({\n      method: 'net_version'\n    });\n    console.log('Netid', netId);\n    const tokenAddress = await tokenJson.networks[netId].address;\n    const tokenContract = new web3.eth.Contract(tokenJson.abi, tokenAddress);\n    web3.eth.getAccounts().then(async accounts => {\n      window.app.getAllAddresses().then(async addr => {\n        const increasedAllowance = await tokenContract.methods.increaseAllowance(addr[1], 5).send({\n          from: accounts[0]\n        });\n        console.log(\"Paid Paymaster Allowance Increased\");\n      });\n    });\n  }\n\n  async getBalance() {\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n    const netId = await window.ethereum.request({\n      method: 'net_version'\n    });\n    console.log('Netid', netId);\n    const tokenAddress = await tokenJson.networks[netId].address;\n    const tokenContract = new web3.eth.Contract(tokenJson.abi, tokenAddress);\n    web3.eth.getAccounts().then(async accounts => {\n      var balanceOfUser = await web3.eth.getBalance(accounts[0]);\n      var etherOfUser = web3.utils.fromWei(balanceOfUser, \"ether\"); //etherOfUser = parseFloat(etherOfUser).toFixed(4)\n\n      this.setState({\n        etherOfUser: etherOfUser\n      });\n      console.log(\"User Balance: \" + etherOfUser + \" ETH\"); // User Token Balance\n\n      const tokenBalance = await tokenContract.methods.balanceOf(accounts[0]).call();\n      this.setState({\n        tokenOfUser: tokenBalance\n      });\n      console.log(\"User Token Balance: \" + tokenBalance + \" tokens\");\n    });\n    window.app.getAllAddresses().then(async addr => {\n      console.log(\"add:\", addr[0], addr[1], addr[2]); // Ether Balances\n      // ------------------------------------------------------------)\n\n      const relayHubAddress = await relayHubAddressJson.address;\n      console.log('relayHub address', relayHubAddress);\n      const RelayHub = await new web3.eth.Contract(relayHubJson.abi, relayHubAddress);\n      const nofeePmAddr = noFeePaymasterAddressJson.networks[netId].address;\n      let noFeePmBal = await RelayHub.methods.balanceOf(nofeePmAddr).call();\n      console.log('No Fee Paymaster Balance: ', web3.utils.fromWei(noFeePmBal.toString()));\n      var balanceOfNoFeePaymaster = await RelayHub.methods.balanceOf(addr[0]).call();\n      var etherOfNoFeePaymaster = web3.utils.fromWei(balanceOfNoFeePaymaster.toString(), \"ether\");\n      this.setState({\n        etherOfNoFeePaymaster: etherOfNoFeePaymaster\n      });\n      console.log(\"No Fee Paymaster Balance: \" + etherOfNoFeePaymaster + \" ETH\");\n      var balanceOfFeePaymaster = await RelayHub.methods.balanceOf(addr[1]).call();\n      var etherOfFeePaymaster = web3.utils.fromWei(balanceOfFeePaymaster.toString(), \"ether\");\n      this.setState({\n        etherOfFeePaymaster: etherOfFeePaymaster\n      });\n      console.log(\"Fee Paymaster Balance: \" + etherOfFeePaymaster + \" ETH\");\n      var balanceOfRecepient = await web3.eth.getBalance(addr[2]);\n      var etherOfRecepient = web3.utils.fromWei(balanceOfRecepient, \"ether\");\n      this.setState({\n        etherOfRecepient: etherOfRecepient\n      });\n      console.log(\"Recepient Balance: \" + etherOfRecepient + \" ETH\"); // ------------------------------------------------------------\n      // Token Balances\n      // ------------------------------------------------------------\n      // const tokenAddress = await tokenJson.address\n      // const tokenContract = new web3.eth.Contract(tokenJson.abi, tokenAddress);\n      // No Fee Paymaster Token Balance\n\n      const tokenBalanceOfNoFeePaymaster = await tokenContract.methods.balanceOf(addr[0]).call();\n      this.setState({\n        tokenOfNoFeePaymaster: tokenBalanceOfNoFeePaymaster\n      });\n      console.log(\"No Fee Paymaster Token Balance: \" + tokenBalanceOfNoFeePaymaster + \" tokens\"); // Fee Paymaster Token Balance\n\n      const tokenBalanceOfFeePaymaster = await tokenContract.methods.balanceOf(addr[1]).call();\n      this.setState({\n        tokenOfFeePaymaster: tokenBalanceOfFeePaymaster\n      });\n      console.log(\"No Fee Paymaster Token Balance: \" + tokenBalanceOfFeePaymaster + \" tokens\"); // Recepient Token Balance\n\n      const tokenBalanceOfRecepient = await tokenContract.methods.balanceOf(addr[2]).call();\n      this.setState({\n        tokenOfRecepient: tokenBalanceOfRecepient\n      });\n      console.log(\"Recepient Token Balance: \" + tokenBalanceOfRecepient + \" tokens\"); // ------------------------------------------------------------\n      // Paymaster Alowances\n      // ----\n\n      web3.eth.getAccounts().then(async accounts => {\n        const tokenAllowanceFreePaymaster = await tokenContract.methods.allowance(accounts[0], addr[0]).call();\n        this.setState({\n          freePaymasterAllowance: tokenAllowanceFreePaymaster\n        });\n        const tokenAllowancePaidPaymaster = await tokenContract.methods.allowance(accounts[0], addr[1]).call();\n        this.setState({\n          paidPaymasterAllowance: tokenAllowancePaidPaymaster\n        });\n        const tokenBankAddress = await tokenBankJson.networks[netId].address;\n        var tokenBankTokenBalance = await tokenContract.methods.balanceOf(tokenBankAddress).call();\n        this.setState({\n          tokenBankTokenBalance: tokenBankTokenBalance\n        });\n        var tokenBankEtherBalance = await web3.eth.getBalance(tokenBankAddress);\n        tokenBankEtherBalance = web3.utils.fromWei(tokenBankEtherBalance.toString(), \"ether\");\n        this.setState({\n          tokenBankEtherBalance: tokenBankEtherBalance\n        });\n      }); // ----\n      // recepient is not hosted on RelayHub (get directly)\n    });\n  }\n\n  async getTokenBalance(walletAddress) {//balance = await contract.methods.balanceOf(walletAddress).call();\n    //console.log(balance)\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      etherOfUser: 0,\n      etherOfNoFeePaymaster: 0,\n      etherOfFeePaymaster: 0,\n      etherOfRecepient: 0,\n      tokenOfUser: 0,\n      tokenOfNoFeePaymaster: 0,\n      tokenOfFeePaymaster: 0,\n      tokenOfRecepient: 0,\n      tokenBankEtherBalance: 0,\n      tokenBankTokenBalance: 0,\n      freePaymasterAllowance: 0,\n      paidPaymasterAllowance: 0\n    };\n    this.getBalance = this.getBalance.bind(this);\n\n    const Web3 = require(\"web3\");\n\n    const ethEnabled = async () => {\n      if (window.ethereum) {\n        await window.ethereum.send('eth_requestAccounts');\n        window.web3 = new Web3(window.ethereum);\n        return true;\n      }\n\n      return false;\n    };\n\n    ethEnabled().then(function (result) {\n      const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n      web3.eth.getAccounts().then(function (accounts) {\n        console.log(accounts);\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-monospace\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        collapseOnSelect: true,\n        expand: \"lg\",\n        bg: \"dark\",\n        variant: \"dark\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n            href: \"#home\",\n            children: \"Option 10: BlueJay Gasless Tokens\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Navbar.Toggle, {\n            \"aria-controls\": \"responsive-navbar-nav\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n            id: \"responsive-navbar-nav\",\n            children: [/*#__PURE__*/_jsxDEV(Nav, {\n              className: \"me-auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Nav, {\n              children: [/*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: \"Numair Fazili\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: \"Jay Gupta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Nav.Link, {\n                children: \"Ritwik Kanodia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"mt-5\",\n        children: /*#__PURE__*/_jsxDEV(CardGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row mt-5\",\n              children: /*#__PURE__*/_jsxDEV(FaUserTie, {\n                style: {\n                  color: 'brown',\n                  fontSize: '100px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"Entity that does not require Ether to execute a transaction on the Ethereum Platform.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  as: \"li\",\n                  className: \"d-flex justify-content-between align-items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-2 me-auto\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold\",\n                      children: \"ETH (Ether)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 306,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    variant: \"primary\",\n                    pill: true,\n                    style: {\n                      fontSize: '15px'\n                    },\n                    children: this.state.etherOfUser\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  as: \"li\",\n                  className: \"d-flex justify-content-between align-items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-2 me-auto\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold\",\n                      children: \"ERC20 (Tokens)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"warning\",\n                    text: \"dark\",\n                    pill: true,\n                    style: {\n                      fontSize: '15px'\n                    },\n                    children: this.state.tokenOfUser\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                className: \"mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                  \"aria-label\": \"Number of Tokens\",\n                  placeholder: \"1 Token\",\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n                  variant: \"success\",\n                  title: \"Choose and Pay\",\n                  id: \"typePaymaster\",\n                  children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    onClick: this.freePayMaster,\n                    children: \"Pay with Free Paymaster\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    onClick: this.paidPayMaster,\n                    children: \"Pay with Paid Paymaster\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row mt-5\",\n              children: /*#__PURE__*/_jsxDEV(SiEthereum, {\n                style: {\n                  color: 'blue',\n                  fontSize: '100px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: \"Free Paymaster\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"Paymaster receives the transactions via the relayer and pays the Gas Fee for the transactions.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  as: \"li\",\n                  className: \"d-flex justify-content-between align-items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-2 me-auto\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold\",\n                      children: \"ETH (Ether)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 354,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    variant: \"primary\",\n                    pill: true,\n                    style: {\n                      fontSize: '15px'\n                    },\n                    children: this.state.etherOfNoFeePaymaster\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  as: \"li\",\n                  className: \"d-flex justify-content-between align-items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-2 me-auto\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold\",\n                      children: \"ERC20 (Tokens)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"warning\",\n                    text: \"dark\",\n                    pill: true,\n                    style: {\n                      fontSize: '15px'\n                    },\n                    children: this.state.tokenOfNoFeePaymaster\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row mt-5\",\n              children: /*#__PURE__*/_jsxDEV(SiEthereum, {\n                style: {\n                  color: 'blue',\n                  fontSize: '100px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: \"Paid Paymaster\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"Paymaster receives the transactions via the relayer and pays the Gas Fee via the tokens supplied by the user.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  as: \"li\",\n                  className: \"d-flex justify-content-between align-items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-2 me-auto\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold\",\n                      children: \"ETH (Ether)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    variant: \"primary\",\n                    pill: true,\n                    style: {\n                      fontSize: '15px'\n                    },\n                    children: this.state.etherOfFeePaymaster\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  as: \"li\",\n                  className: \"d-flex justify-content-between align-items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-2 me-auto\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold\",\n                      children: \"ERC20 (Tokens)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"warning\",\n                    text: \"dark\",\n                    pill: true,\n                    style: {\n                      fontSize: '15px'\n                    },\n                    children: this.state.tokenOfFeePaymaster\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row mt-5\",\n              children: /*#__PURE__*/_jsxDEV(FaUserSecret, {\n                style: {\n                  fontSize: '100px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                children: \"Recepient\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                children: \"Entity that receives the transactions that are sent from the user through the relayer.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n                children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  as: \"li\",\n                  className: \"d-flex justify-content-between align-items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-2 me-auto\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold\",\n                      children: \"ETH (Ether)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    variant: \"primary\",\n                    pill: true,\n                    style: {\n                      fontSize: '15px'\n                    },\n                    children: this.state.etherOfRecepient\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  as: \"li\",\n                  className: \"d-flex justify-content-between align-items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ms-2 me-auto\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"fw-bold\",\n                      children: \"ERC20 (Tokens)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 437,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                    bg: \"warning\",\n                    text: \"dark\",\n                    pill: true,\n                    style: {\n                      fontSize: '15px'\n                    },\n                    children: this.state.tokenOfRecepient\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(CardGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              children: \"Token Bank - Buy Tokens\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                className: \"mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                  \"aria-label\": \"Buy for\",\n                  placeholder: \"20 Tokens\",\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n                  variant: \"outline-secondary\",\n                  title: \"Buy\",\n                  id: \"input-group-dropdown-3\",\n                  children: /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    onClick: this.buyUserTokens,\n                    children: \"for User\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              children: \"Token Bank Balances\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                as: \"li\",\n                className: \"d-flex justify-content-between align-items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ms-2 me-auto\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bold\",\n                    children: \"Ether Balance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: \"primary\",\n                  pill: true,\n                  style: {\n                    fontSize: '15px'\n                  },\n                  children: this.state.tokenBankEtherBalance\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                as: \"li\",\n                className: \"d-flex justify-content-between align-items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ms-2 me-auto\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bold\",\n                    children: \"Token Balance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: \"warning\",\n                  text: \"dark\",\n                  pill: true,\n                  style: {\n                    fontSize: '15px'\n                  },\n                  children: this.state.tokenBankTokenBalance\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              children: \"Paymaster Allowance Manager\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                className: \"mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                  \"aria-label\": \"\",\n                  placeholder: \"5 tokens\",\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n                  variant: \"outline-danger\",\n                  title: \"Increase allowance\",\n                  id: \"input-group-dropdown-3\",\n                  children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    onClick: this.changeAllowanceFreePaymaster,\n                    children: \"for Free Paymaster\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 511,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                    onClick: this.changeAllowancePaidPaymaster,\n                    children: \"for Paid Paymaster\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              children: \"Paymaster Allowances (in Tokens)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                as: \"li\",\n                className: \"d-flex justify-content-between align-items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ms-2 me-auto\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bold\",\n                    children: \"Free Paymaster (ERC20)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: \"warning\",\n                  text: \"dark\",\n                  pill: true,\n                  style: {\n                    fontSize: '15px'\n                  },\n                  children: this.state.freePaymasterAllowance\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                as: \"li\",\n                className: \"d-flex justify-content-between align-items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ms-2 me-auto\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"fw-bold\",\n                    children: \"Paid Paymaster (ERC20)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 538,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                  bg: \"warning\",\n                  text: \"dark\",\n                  pill: true,\n                  style: {\n                    fontSize: '15px'\n                  },\n                  children: this.state.paidPaymasterAllowance\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 520,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"mt-2\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            width: '40%'\n          },\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              as: \"input\",\n              value: \"Refresh all Balances\",\n              onClick: this.getBalance\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default App;\nReactDOM.render( /*#__PURE__*/_jsxDEV(React.StrictMode, {\n  children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 568,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 567,\n  columnNumber: 5\n}, this), document.getElementById('root'));","map":{"version":3,"sources":["C:/Users/nomif/Desktop/Programming/Blockchain/ethereum-gasless-transactions/OpenGSN/ui/src/index.js"],"names":["React","ReactDOM","Component","Card","CardGroup","Navbar","Nav","Container","Button","ListGroup","Badge","InputGroup","FormControl","DropdownButton","Dropdown","Spinner","FaUserTie","FaUserSecret","FaThumbsUp","SiEthereum","Web3","relayHubJson","relayHubAddressJson","noFeePaymasterAddressJson","tokenJson","tokenBankJson","App","componentWillMount","loadBlockchainData","props","dispatch","deposit","amount","withdraw","e","freePayMaster","console","log","window","app","initNoFeePaymaster","then","contractAddress","network","noFeeContractCall","paidPayMaster","initTokenFeePaymaster","tokenFeeContractCall","buyUserTokens","web3","givenProvider","netId","ethereum","request","method","eth","getAccounts","accounts","tokenBankAddress","networks","address","tokenBankContract","Contract","abi","buyTokens","methods","send","from","value","changeAllowanceFreePaymaster","tokenAddress","tokenContract","getAllAddresses","addr","increasedAllowance","increaseAllowance","changeAllowancePaidPaymaster","getBalance","balanceOfUser","etherOfUser","utils","fromWei","setState","tokenBalance","balanceOf","call","tokenOfUser","relayHubAddress","RelayHub","nofeePmAddr","noFeePmBal","toString","balanceOfNoFeePaymaster","etherOfNoFeePaymaster","balanceOfFeePaymaster","etherOfFeePaymaster","balanceOfRecepient","etherOfRecepient","tokenBalanceOfNoFeePaymaster","tokenOfNoFeePaymaster","tokenBalanceOfFeePaymaster","tokenOfFeePaymaster","tokenBalanceOfRecepient","tokenOfRecepient","tokenAllowanceFreePaymaster","allowance","freePaymasterAllowance","tokenAllowancePaidPaymaster","paidPaymasterAllowance","tokenBankTokenBalance","tokenBankEtherBalance","getTokenBalance","walletAddress","constructor","state","bind","require","ethEnabled","result","render","color","fontSize","width","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './ethereum.js'\nimport './index.css';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n// import './bundle.js'\nimport { Component } from 'react'\nimport { Card, CardGroup, Navbar, Nav, Container, Button, ListGroup, Badge, InputGroup, FormControl, DropdownButton, Dropdown, Spinner } from 'react-bootstrap'\nimport { FaUserTie, FaUserSecret, FaThumbsUp } from \"react-icons/fa\"\nimport { SiEthereum } from \"react-icons/si\"\nimport Web3 from 'web3';\n\nimport relayHubJson from '../../build/contracts/RelayHub.json';\nimport relayHubAddressJson from '../../build/gsn/RelayHub.json';\nimport noFeePaymasterAddressJson from '../../build/contracts/NoFeePaymaster.json';\nimport tokenJson from '../../build/contracts/Token.json';\nimport tokenBankJson from '../../build/contracts/TokenBank.json';\n\n\nclass App extends Component {\n\n    async componentWillMount() {\n        await this.loadBlockchainData(this.props.dispatch)\n    }\n\n    async loadBlockchainData(dispatch) {\n\n        //check if MetaMask exists\n\n        //assign to values to variables: web3, netId, accounts\n\n        //check if account is detected, then load balance&setStates, elsepush alert\n\n        //in try block load contracts\n\n        //if MetaMask not exists push alert\n    }\n\n    async deposit(amount) {\n        //check if this.state.dbank is ok\n        //in try block call dBank deposit();\n    }\n\n    async withdraw(e) {\n        //prevent button from default click\n        //check if this.state.dbank is ok\n        //in try block call dBank withdraw();\n    }\n\n    // getUserETH() {\n    //     //var balance = await web3.eth.getBalance(walletAddress); //Will give value in.\n    //     //balance = await web3.toDecimal(balance);\n    // }\n\n    // getUserTokens() {\n\n    // }\n\n    freePayMaster() {\n        console.log('freePayMaster')\n        window.app.initNoFeePaymaster().then(function ({ contractAddress, network }) {\n            // console.log('CaptureTheFlag contract', contractAddress)\n            // console.log(`identified network: ${JSON.stringify(network)}`)\n            window.app.noFeeContractCall()\n\n        })\n    }\n\n    paidPayMaster() {\n\n        console.log('paidPayMaster')\n\n\n        window.app.initTokenFeePaymaster().then(function ({ contractAddress, network }) {\n            // console.log('CaptureTheFlag contract', contractAddress)\n            // console.log(`identified network: ${JSON.stringify(network)}`)\n            window.app.tokenFeeContractCall()\n        })\n    }\n\n    async buyUserTokens() {\n        console.log('user tokens')\n        const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n        const netId = await window.ethereum.request({ method: 'net_version' })\n\n        web3.eth.getAccounts().then(async (accounts) => {\n            const tokenBankAddress = await tokenBankJson.networks[netId].address;\n            const tokenBankContract = await new web3.eth.Contract(tokenBankJson.abi, tokenBankAddress)\n\n            var buyTokens = await tokenBankContract.methods.buyTokens().send({ from: accounts[0], value: 20 * 10 ** 18 })\n            console.log(\"Bought tokens successfully\")\n        })\n    }\n\n    async changeAllowanceFreePaymaster() {\n        const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n        const netId = await window.ethereum.request({ method: 'net_version' })\n        console.log('Netid', netId)\n\n        const tokenAddress = await tokenJson.networks[netId].address\n        const tokenContract = new web3.eth.Contract(tokenJson.abi, tokenAddress);\n        web3.eth.getAccounts().then(async (accounts) => {\n            window.app.getAllAddresses().then(async (addr) => {\n                const increasedAllowance = await tokenContract.methods.increaseAllowance(addr[0], 5).send({ from: accounts[0] });\n                console.log(\"Free Paymaster Allowance Increased\")\n            })\n        })\n    }\n\n    async changeAllowancePaidPaymaster() {\n        const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n        const netId = await window.ethereum.request({ method: 'net_version' })\n        console.log('Netid', netId)\n\n        const tokenAddress = await tokenJson.networks[netId].address\n        const tokenContract = new web3.eth.Contract(tokenJson.abi, tokenAddress);\n        web3.eth.getAccounts().then(async (accounts) => {\n            window.app.getAllAddresses().then(async (addr) => {\n                const increasedAllowance = await tokenContract.methods.increaseAllowance(addr[1], 5).send({ from: accounts[0] });\n                console.log(\"Paid Paymaster Allowance Increased\")\n            })\n        })\n\n    }\n\n    async getBalance() {\n        const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n        const netId = await window.ethereum.request({ method: 'net_version' })\n        console.log('Netid', netId)\n\n        const tokenAddress = await tokenJson.networks[netId].address\n        const tokenContract = new web3.eth.Contract(tokenJson.abi, tokenAddress);\n\n        web3.eth.getAccounts().then(async (accounts) => {\n\n\n\n\n            var balanceOfUser = await web3.eth.getBalance(accounts[0]);\n            var etherOfUser = web3.utils.fromWei(balanceOfUser, \"ether\")\n            //etherOfUser = parseFloat(etherOfUser).toFixed(4)\n            this.setState({ etherOfUser: etherOfUser })\n            console.log(\"User Balance: \" + etherOfUser + \" ETH\")\n\n            // User Token Balance\n\n            const tokenBalance = await tokenContract.methods.balanceOf(accounts[0]).call();\n            this.setState({ tokenOfUser: tokenBalance })\n            console.log(\"User Token Balance: \" + tokenBalance + \" tokens\")\n        });\n\n        window.app.getAllAddresses().then(async (addr) => {\n            console.log(\"add:\", addr[0], addr[1], addr[2])\n\n            // Ether Balances\n            // ------------------------------------------------------------)\n\n            const relayHubAddress = await relayHubAddressJson.address\n            console.log('relayHub address', relayHubAddress)\n\n            const RelayHub = await new web3.eth.Contract(relayHubJson.abi, relayHubAddress)\n\n            const nofeePmAddr = noFeePaymasterAddressJson.networks[netId].address\n            let noFeePmBal = await RelayHub.methods.balanceOf(nofeePmAddr).call()\n            console.log('No Fee Paymaster Balance: ', web3.utils.fromWei(noFeePmBal.toString()))\n\n            var balanceOfNoFeePaymaster = await RelayHub.methods.balanceOf(addr[0]).call();\n            var etherOfNoFeePaymaster = web3.utils.fromWei(balanceOfNoFeePaymaster.toString(), \"ether\")\n            this.setState({ etherOfNoFeePaymaster: etherOfNoFeePaymaster })\n            console.log(\"No Fee Paymaster Balance: \" + etherOfNoFeePaymaster + \" ETH\")\n\n            var balanceOfFeePaymaster = await RelayHub.methods.balanceOf(addr[1]).call();\n            var etherOfFeePaymaster = web3.utils.fromWei(balanceOfFeePaymaster.toString(), \"ether\")\n            this.setState({ etherOfFeePaymaster: etherOfFeePaymaster })\n            console.log(\"Fee Paymaster Balance: \" + etherOfFeePaymaster + \" ETH\")\n\n            var balanceOfRecepient = await web3.eth.getBalance(addr[2]);\n            var etherOfRecepient = web3.utils.fromWei(balanceOfRecepient, \"ether\")\n            this.setState({ etherOfRecepient: etherOfRecepient })\n            console.log(\"Recepient Balance: \" + etherOfRecepient + \" ETH\")\n            // ------------------------------------------------------------\n\n            // Token Balances\n            // ------------------------------------------------------------\n            // const tokenAddress = await tokenJson.address\n            // const tokenContract = new web3.eth.Contract(tokenJson.abi, tokenAddress);\n\n            // No Fee Paymaster Token Balance\n            const tokenBalanceOfNoFeePaymaster = await tokenContract.methods.balanceOf(addr[0]).call();\n            this.setState({ tokenOfNoFeePaymaster: tokenBalanceOfNoFeePaymaster })\n            console.log(\"No Fee Paymaster Token Balance: \" + tokenBalanceOfNoFeePaymaster + \" tokens\")\n\n            // Fee Paymaster Token Balance\n            const tokenBalanceOfFeePaymaster = await tokenContract.methods.balanceOf(addr[1]).call();\n            this.setState({ tokenOfFeePaymaster: tokenBalanceOfFeePaymaster })\n            console.log(\"No Fee Paymaster Token Balance: \" + tokenBalanceOfFeePaymaster + \" tokens\")\n\n            // Recepient Token Balance\n            const tokenBalanceOfRecepient = await tokenContract.methods.balanceOf(addr[2]).call();\n            this.setState({ tokenOfRecepient: tokenBalanceOfRecepient })\n            console.log(\"Recepient Token Balance: \" + tokenBalanceOfRecepient + \" tokens\")\n            // ------------------------------------------------------------\n\n            // Paymaster Alowances\n            // ----\n            web3.eth.getAccounts().then(async (accounts) => {\n                const tokenAllowanceFreePaymaster = await tokenContract.methods.allowance(accounts[0], addr[0]).call();\n                this.setState({ freePaymasterAllowance: tokenAllowanceFreePaymaster })\n\n                const tokenAllowancePaidPaymaster = await tokenContract.methods.allowance(accounts[0], addr[1]).call();\n                this.setState({ paidPaymasterAllowance: tokenAllowancePaidPaymaster })\n\n                const tokenBankAddress = await tokenBankJson.networks[netId].address;\n                var tokenBankTokenBalance = await tokenContract.methods.balanceOf(tokenBankAddress).call()\n                this.setState({ tokenBankTokenBalance: tokenBankTokenBalance })\n\n                var tokenBankEtherBalance = await web3.eth.getBalance(tokenBankAddress);\n                tokenBankEtherBalance = web3.utils.fromWei(tokenBankEtherBalance.toString(), \"ether\")\n                this.setState({ tokenBankEtherBalance: tokenBankEtherBalance })\n            })\n            // ----\n\n            // recepient is not hosted on RelayHub (get directly)\n        })\n    }\n\n    async getTokenBalance(walletAddress) {\n        //balance = await contract.methods.balanceOf(walletAddress).call();\n        //console.log(balance)\n    }\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            etherOfUser: 0,\n            etherOfNoFeePaymaster: 0,\n            etherOfFeePaymaster: 0,\n            etherOfRecepient: 0,\n            tokenOfUser: 0,\n            tokenOfNoFeePaymaster: 0,\n            tokenOfFeePaymaster: 0,\n            tokenOfRecepient: 0,\n            tokenBankEtherBalance: 0,\n            tokenBankTokenBalance: 0,\n            freePaymasterAllowance: 0,\n            paidPaymasterAllowance: 0\n        }\n        this.getBalance = this.getBalance.bind(this)\n        const Web3 = require(\"web3\");\n\n        const ethEnabled = async () => {\n            if (window.ethereum) {\n                await window.ethereum.send('eth_requestAccounts');\n                window.web3 = new Web3(window.ethereum);\n                return true;\n            }\n            return false;\n        }\n\n        ethEnabled().then(function (result) {\n            const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n            web3.eth.getAccounts().then(function (accounts) {\n                console.log(accounts)\n            });\n        })\n\n    }\n\n    render() {\n        return (\n            <div className='text-monospace'>\n                <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n                    <Container>\n                        <Navbar.Brand href=\"#home\">Option 10: BlueJay Gasless Tokens</Navbar.Brand>\n                        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                        <Navbar.Collapse id=\"responsive-navbar-nav\">\n                            <Nav className=\"me-auto\">\n                            </Nav>\n                            <Nav>\n                                <Nav.Link>Numair Fazili</Nav.Link>\n                                <Nav.Link>Jay Gupta</Nav.Link>\n                                <Nav.Link>Ritwik Kanodia</Nav.Link>\n                            </Nav>\n                        </Navbar.Collapse>\n                    </Container>\n                </Navbar>\n\n                <Container className='mt-5'>\n                    <CardGroup>\n                        <Card className=\"text-center\">\n                            <div class=\"row mt-5\">\n                                <FaUserTie style={{ color: 'brown', fontSize: '100px' }} />\n                            </div>\n                            <Card.Body>\n                                <Card.Title>User</Card.Title>\n                                <Card.Text>\n                                    Entity that does not require Ether to execute a transaction on the Ethereum Platform.\n                                </Card.Text>\n                                <ListGroup>\n                                    <ListGroup.Item\n                                        as=\"li\"\n                                        className=\"d-flex justify-content-between align-items-start\"\n                                    >\n                                        <div className=\"ms-2 me-auto\">\n                                            <div className=\"fw-bold\">ETH (Ether)</div>\n                                        </div>\n                                        <Badge variant=\"primary\" pill style={{ fontSize: '15px' }}>\n                                            {this.state.etherOfUser}\n                                        </Badge>\n                                    </ListGroup.Item>\n                                    <ListGroup.Item\n                                        as=\"li\"\n                                        className=\"d-flex justify-content-between align-items-start\"\n                                    >\n                                        <div className=\"ms-2 me-auto\">\n                                            <div className=\"fw-bold\">ERC20 (Tokens)</div>\n                                        </div>\n                                        <Badge bg=\"warning\" text=\"dark\" pill style={{ fontSize: '15px' }}>\n                                            {this.state.tokenOfUser}\n                                        </Badge>\n                                    </ListGroup.Item>\n                                </ListGroup>\n\n                                <InputGroup className=\"mt-4\">\n                                    <FormControl aria-label=\"Number of Tokens\" placeholder=\"1 Token\" disabled />\n                                    <DropdownButton\n                                        variant=\"success\"\n                                        title=\"Choose and Pay\"\n                                        id=\"typePaymaster\">\n                                        <Dropdown.Item onClick={this.freePayMaster}>Pay with Free Paymaster</Dropdown.Item>\n                                        <Dropdown.Item onClick={this.paidPayMaster}>Pay with Paid Paymaster</Dropdown.Item>\n                                    </DropdownButton>\n                                </InputGroup>\n                            </Card.Body>\n\n                        </Card>\n                        <Card className=\"text-center\">\n                            <div class=\"row mt-5\">\n                                <SiEthereum style={{ color: 'blue', fontSize: '100px' }} />\n                            </div>\n                            <Card.Body>\n                                <Card.Title>Free Paymaster</Card.Title>\n                                <Card.Text>\n                                    Paymaster receives the transactions via the relayer and pays the Gas Fee for the transactions.\n                                </Card.Text>\n\n                                <ListGroup>\n                                    <ListGroup.Item\n                                        as=\"li\"\n                                        className=\"d-flex justify-content-between align-items-start\"\n                                    >\n                                        <div className=\"ms-2 me-auto\">\n                                            <div className=\"fw-bold\">ETH (Ether)</div>\n                                        </div>\n                                        <Badge variant=\"primary\" pill style={{ fontSize: '15px' }}>\n                                            {this.state.etherOfNoFeePaymaster}\n                                        </Badge>\n                                    </ListGroup.Item>\n                                    <ListGroup.Item\n                                        as=\"li\"\n                                        className=\"d-flex justify-content-between align-items-start\"\n                                    >\n                                        <div className=\"ms-2 me-auto\">\n                                            <div className=\"fw-bold\">ERC20 (Tokens)</div>\n                                        </div>\n                                        <Badge bg=\"warning\" text=\"dark\" pill style={{ fontSize: '15px' }}>\n                                            {this.state.tokenOfNoFeePaymaster}\n                                        </Badge>\n                                    </ListGroup.Item>\n                                </ListGroup>\n                            </Card.Body>\n                        </Card>\n                        <Card className=\"text-center\">\n                            <div class=\"row mt-5\">\n                                <SiEthereum style={{ color: 'blue', fontSize: '100px' }} />\n                            </div>\n                            <Card.Body>\n                                <Card.Title>Paid Paymaster</Card.Title>\n                                <Card.Text>\n                                    Paymaster receives the transactions via the relayer and pays the Gas Fee via the tokens supplied by the user.\n                                </Card.Text>\n\n                                <ListGroup>\n                                    <ListGroup.Item\n                                        as=\"li\"\n                                        className=\"d-flex justify-content-between align-items-start\"\n                                    >\n                                        <div className=\"ms-2 me-auto\">\n                                            <div className=\"fw-bold\">ETH (Ether)</div>\n                                        </div>\n                                        <Badge variant=\"primary\" pill style={{ fontSize: '15px' }}>\n                                            {this.state.etherOfFeePaymaster}\n                                        </Badge>\n                                    </ListGroup.Item>\n                                    <ListGroup.Item\n                                        as=\"li\"\n                                        className=\"d-flex justify-content-between align-items-start\"\n                                    >\n                                        <div className=\"ms-2 me-auto\">\n                                            <div className=\"fw-bold\">ERC20 (Tokens)</div>\n                                        </div>\n                                        <Badge bg=\"warning\" text=\"dark\" pill style={{ fontSize: '15px' }}>\n                                            {this.state.tokenOfFeePaymaster}\n                                        </Badge>\n                                    </ListGroup.Item>\n                                </ListGroup>\n                            </Card.Body>\n                        </Card>\n                        <Card className=\"text-center\">\n                            <div class=\"row mt-5\">\n                                <FaUserSecret style={{ fontSize: '100px' }} />\n                            </div>\n                            <Card.Body>\n                                <Card.Title>Recepient</Card.Title>\n                                <Card.Text>\n                                    Entity that receives the transactions that are sent from the user through the relayer.\n                                </Card.Text>\n\n                                <ListGroup>\n                                    <ListGroup.Item\n                                        as=\"li\"\n                                        className=\"d-flex justify-content-between align-items-start\"\n                                    >\n                                        <div className=\"ms-2 me-auto\">\n                                            <div className=\"fw-bold\">ETH (Ether)</div>\n                                        </div>\n                                        <Badge variant=\"primary\" pill style={{ fontSize: '15px' }}>\n                                            {this.state.etherOfRecepient}\n                                        </Badge>\n                                    </ListGroup.Item>\n                                    <ListGroup.Item\n                                        as=\"li\"\n                                        className=\"d-flex justify-content-between align-items-start\"\n                                    >\n                                        <div className=\"ms-2 me-auto\">\n                                            <div className=\"fw-bold\">ERC20 (Tokens)</div>\n                                        </div>\n                                        <Badge bg=\"warning\" text=\"dark\" pill style={{ fontSize: '15px' }}>\n                                            {this.state.tokenOfRecepient}\n                                        </Badge>\n                                    </ListGroup.Item>\n                                </ListGroup>\n                            </Card.Body>\n                        </Card>\n                    </CardGroup>\n                </Container>\n\n                <Container className='mt-3'>\n                    <CardGroup>\n                        <Card>\n                            <Card.Header>Token Bank - Buy Tokens</Card.Header>\n                            <Card.Body>\n                                <InputGroup className=\"mt-4\">\n                                    <FormControl aria-label=\"Buy for\" placeholder=\"20 Tokens\"\n                                        disabled />\n                                    <DropdownButton\n                                        variant=\"outline-secondary\"\n                                        title=\"Buy\"\n                                        id=\"input-group-dropdown-3\"\n                                    >\n                                        <Dropdown.Item onClick={this.buyUserTokens}>for User</Dropdown.Item>\n                                    </DropdownButton>\n                                </InputGroup>\n                            </Card.Body>\n                        </Card>\n\n\n                        <Card>\n                            <Card.Header>Token Bank Balances</Card.Header>\n                            <Card.Body>\n\n                                <ListGroup.Item\n                                    as=\"li\"\n                                    className=\"d-flex justify-content-between align-items-start\"\n                                >\n                                    <div className=\"ms-2 me-auto\">\n                                        <div className=\"fw-bold\">Ether Balance</div>\n                                    </div>\n                                    <Badge bg=\"primary\" pill style={{ fontSize: '15px' }}>\n                                        {this.state.tokenBankEtherBalance}\n                                    </Badge>\n                                </ListGroup.Item>\n\n                                <ListGroup.Item\n                                    as=\"li\"\n                                    className=\"d-flex justify-content-between align-items-start\"\n                                >\n                                    <div className=\"ms-2 me-auto\">\n                                        <div className=\"fw-bold\">Token Balance</div>\n                                    </div>\n                                    <Badge bg=\"warning\" text=\"dark\" pill style={{ fontSize: '15px' }}>\n                                        {this.state.tokenBankTokenBalance}\n                                    </Badge>\n                                </ListGroup.Item>\n                            </Card.Body>\n                        </Card>\n\n\n                        <Card>\n                            <Card.Header>Paymaster Allowance Manager</Card.Header>\n                            <Card.Body>\n                                <InputGroup className=\"mt-4\">\n                                    <FormControl aria-label=\"\" placeholder=\"5 tokens\"\n                                        disabled />\n                                    <DropdownButton\n                                        variant=\"outline-danger\"\n                                        title=\"Increase allowance\"\n                                        id=\"input-group-dropdown-3\"\n                                    >\n                                        <Dropdown.Item onClick={this.changeAllowanceFreePaymaster}>for Free Paymaster</Dropdown.Item>\n                                        <Dropdown.Item onClick={this.changeAllowancePaidPaymaster}>for Paid Paymaster</Dropdown.Item>\n                                    </DropdownButton>\n                                </InputGroup>\n                            </Card.Body>\n                        </Card>\n\n                        <Card>\n                            <Card.Header>Paymaster Allowances (in Tokens)</Card.Header>\n                            <Card.Body>\n                                <ListGroup.Item\n                                    as=\"li\"\n                                    className=\"d-flex justify-content-between align-items-start\"\n                                >\n                                    <div className=\"ms-2 me-auto\">\n                                        <div className=\"fw-bold\">Free Paymaster (ERC20)</div>\n                                    </div>\n                                    <Badge bg=\"warning\" text=\"dark\" pill style={{ fontSize: '15px' }}>\n                                        {this.state.freePaymasterAllowance}\n                                    </Badge>\n                                </ListGroup.Item>\n\n                                <ListGroup.Item\n                                    as=\"li\"\n                                    className=\"d-flex justify-content-between align-items-start\"\n                                >\n                                    <div className=\"ms-2 me-auto\">\n                                        <div className=\"fw-bold\">Paid Paymaster (ERC20)</div>\n                                    </div>\n                                    <Badge bg=\"warning\" text=\"dark\" pill style={{ fontSize: '15px' }}>\n                                        {this.state.paidPaymasterAllowance}\n                                    </Badge>\n                                </ListGroup.Item>\n\n\n                            </Card.Body>\n                        </Card>\n\n                    </CardGroup>\n                </Container>\n\n                <Container className='mt-2'>\n                    <Card style={{ width: '40%' }}>\n                        <Card.Body>\n                            <Button as=\"input\" value=\"Refresh all Balances\" onClick={this.getBalance} />\n                        </Card.Body>\n                    </Card>\n                </Container>\n            </div>\n        );\n    }\n}\n\nexport default App;\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);"]},"metadata":{},"sourceType":"module"}